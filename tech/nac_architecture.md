# 🧠 NAC 技術アーキテクチャ設計書  
_Interstellar Acceleration Party / tech/nac_architecture.md_

---

## 1. 概要：国家AGIクラウド（NAC）とは

**NAC（National AGI Cloud）**は、教育・行政・研究・産業のために国家が構築・運営する  
**汎用人工知能（AGI）公共インフラ**です。

その目的は以下にあります：

- 国民全体がAGIの力を公平・安全・高速に活用できる基盤の整備  
- 民間依存を超えた主権的なAIスタックの実現  
- 社会制度とAGIの「文明スケールでの整合性（Alignment）」の確保

---

## 2. NACの全体構成（7層構造）

```plaintext
┌─────────────────────────────┐
│ ① フロントアプリ層          │ ← 教育・行政・政策支援アプリなど
├─────────────────────────────┤
│ ② APIゲートウェイ層         │ ← REST/GraphQL・スロット制御
├─────────────────────────────┤
│ ③ 認証・アクセス管理層      │ ← OAuth・段階認証・ZKログ保存
├─────────────────────────────┤
│ ④ AGIモデル層               │ ← L1〜L4分類モデル・多言語対応
├─────────────────────────────┤
│ ⑤ トレーニング・更新基盤層  │ ← 継続学習・公共データ統合・微調整
├─────────────────────────────┤
│ ⑥ ハードウェアインフラ層     │ ← 国内GPUクラスタ・電力・冷却管理
├─────────────────────────────┤
│ ⑦ ガバナンス・国際連携層    │ ← SimGov統合・NAC DAO・海外API接続
└─────────────────────────────┘
```
---

## 3. コア構成要素の詳細
### 3.1 AGIモデル群（第4層）
 | モデル名       | 用途例       | 説明                                |
|----------------|--------------|-------------------------------------|
| NAC-GPT-L1     | 教育・QA     | 軽量対話型、思考補助向け           |
| NAC-GPT-L2     | 行政文書     | 文書生成・要約・翻訳特化           |
| NAC-GPT-L3     | 政策補助     | 意思決定支援・リスク評価           |
| NAC-Multi      | マルチモーダル | 多言語・音声・視覚入力にも対応     |

* 全モデルは日本語最適化＆国産ファインチューニング対応
* OSSベースの継続学習が可能（例：LLaMA派生や独自構文モデル）

### 3.2 APIゲートウェイ（第2層）
| エンドポイント         | 機能             | 想定ユーザー         |
|------------------------|------------------|----------------------|
| `POST /chat`           | 自然言語対話     | 教員・学生・職員     |
| `POST /generate-doc`   | 文書生成         | 官僚・議員・研究者   |
| `POST /simulate`       | 政策シミュレーション | 議会・研究機関       |
| `GET /impact-score`    | 政策影響スコア   | 市民・監視団体       |

* トークン制スロット管理対応
* GraphQL / REST 両対応
* ZK（ゼロ知識）ログとの統合可能

---
## 4. アクセスとセキュリティ設計（第3層）
### 4.1 アクセス制度（用途別）
| 区分       | 対象             | 提供条件                        |
|------------|------------------|---------------------------------|
| 公共機関   | 学校・自治体     | 無償、L1〜L2は無審査           |
| 公益団体   | 教育・医療NPO等  | 寄与または成果の共有が条件     |
| OSS開発者 | 個人・学生        | GitHub連携・貢献実績に応じ開放 |
| 商用事業者 | SaaS・研究機関   | 有償ライセンス＋審査制         |

### 4.2 段階認証モデル（L1〜L5）
| レベル | 概要           | 利用制限                       |
|--------|----------------|--------------------------------|
| L1     | 対話支援       | 完全開放                       |
| L2     | 文書生成       | ログ保存義務                   |
| L3     | 意思決定支援   | 有資格者限定・監査付き         |
| L4     | 自律判断       | サンドボックス内での限定使用   |
| L5     | AGI制御中枢    | 条約下で管理、原則使用不可     |

---

## 5. 継続学習と更新基盤（第5層）
* 教育・法文・公文書を継続的に学習データとして取り込む
* Human Feedbackによる強化学習（RLHF）フローを含む
* モデル改善はNAC DAOによる提案＆投票で管理

---

## 6. 国際連携とオープン化（第7層）
* POST /v1/nac-intl/bridge：国外公共AIとのAPI連携
* AACE（アジア宇宙経済圏）標準と互換性あり
* SimGovによる国際的政策シミュレーション共有が可能

---

## 7. ガバナンスとDAO構造
| 管理領域         | 実施主体       | 補足                     |
|------------------|----------------|--------------------------|
| モデル更新       | NAC DAO        | 貢献スコア＋投票で決定   |
| API設計・公開    | NAC技術委員会  | 提案・議論はOSS開放      |
| 利用審査と監査   | NACS（審査庁） | SimGovとの統合ログ評価   |

---

## 8. 技術スタック（構成例）
* モデル実行基盤：PyTorch, vLLM, Deepspeed
* API実装：FastAPI, GraphQL, Redis
* 認証基盤：OAuth2.0, JWT, APIキー制御
* 可視化ダッシュボード：Grafana, Streamlit, Jupyter
* 監査・透明化：ZKログ、Merkle木署名、IPFS統合予定

---

## 9. 総括：思考と制度を支える公共インフラへ
NACは、単なるAPI群でも、クラウドAIでもない。
それは政策・教育・法のための「公共思考補助装置」であり、
人類と機械知性が協働して未来を設計するための共進化的プラットフォームである。
> “The state is no longer a speaker — it is a symbiotic mind.”
> — 星間加速党 NAC構想より
